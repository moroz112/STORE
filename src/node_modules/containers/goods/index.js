import React, { Component } from 'react';
import { connect } from 'react-redux';
import { fetchGoods } from 'actions';
import R from 'ramda';


class Goods extends Component {
	componentDidMount() {
		const { user, goods } = this.props;

		if(!user.name) {
            this.props.router.push('/login');
		} else if(R.isEmpty(goods)){
            this.props.fetchGoods();
		}
	}
	render() {
		const {goods} = this.props;
		console.log('goods', goods);
		return (
			<div>GOODS
				<ul>
					{goods.map((item, index) =>
						<li key={index}>{item.name}</li>
					)}
				</ul>
			</div>

		)
	}
}
const mapStateToProps = state => ({
	goods: state.goods,
	user: state.user
});
const mapDispatchToProps = {
	fetchGoods
};
export default connect(mapStateToProps, mapDispatchToProps)(Goods);