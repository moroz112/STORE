import {
    FETCH_GOODS_START,
    FETCH_GOODS_SUCCESS,
    FETCH_GOODS_FAILURE,
    LOGIN_USER_START,
    LOGIN_USER_SUCCESS,
    LOGIN_USER_FAILURE
} from 'actionTypes';
import {
    fetchGoods as fetchGoodsApi,
    tryLoginUser as tryLoginUserApi
} from 'api';
export const fetchGoods = () => async dispatch => {
    dispatch({
        type: FETCH_GOODS_START
    });
    try {
        const goods = await fetchGoodsApi();

        dispatch({
            type: FETCH_GOODS_SUCCESS,
            payload: goods
        })
    } catch (err) {
        dispatch({
            type: FETCH_GOODS_FAILURE,
            payload: err,
            error: true
        })
    }
};
export const loginUser = (login, password) => async dispatch => {
    dispatch({
        type: LOGIN_USER_START
    });

    try {
        const userInfo = await tryLoginUserApi(login, password);

        dispatch({
            type: LOGIN_USER_SUCCESS,
            payload: {
                id: 1,
                mail: 'ridvanich mail',
                name: 'ridvan',
                password: 'maintenance'
            }
        })
    } catch (err) {
        dispatch({
            type: LOGIN_USER_FAILURE,
            payload: err,
            error: true
        })
    }
};